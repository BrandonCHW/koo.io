<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script type="text/javascript" src="listeners.js"></script> -->
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script>
        var socket = io()       
    </script>
    <title>Koo.io</title>
    <style>
        body,html {
            background: lightpink; 
        }
    </style>
</head>
<body>
    <!-- Login Page -->
    <div style="display:none">
        <h1>Koo.io</h1>
        <div>
            <label for="userId">Your Name: </label>
            <input id="userId" type="text">        
        </div>
        <div>
            <button>Find Lobby</button>
            <button>Create Lobby</button>
        </div>
        <div>
            <button>Rules</button>
        </div>
        <p>Credits: Bred and Chimp, inspired by Rikki Rahta's Coup Original recipe nice</p>
    </div>

    <!-- Other players data -->
    <div>

    </div>

    <!-- Current player data -->
    <div>
        <h1>Player status</h1>
        <p>Player Coins: <span id="pCoins">0</span></p>
        <p>Card 1: <span id="pCard1Name">card1</span>; Status: <span id="pCard1Status">Alive</span></p>
        <p>Card 2: <span id="pCard2Name">card2</span>; Status: <span id="pCard2Status">Alive</span></p>
        
    </div>
        
    <!-- Player actions -->
    <div id="actions">
        <h4>Generic</h4>
        <div>
            <button id="income">Income: +1 Coin</button>
            <button id="foreign">Foreign: +2 Coin</button>
            <button id="coup">Coup: -7 Coins</button>
        </div>
        <h4>Special Action</h4>
        <div>
            <button id="tax">Tax: +3 Coins</button>
            <button id="steal">Steal: Yoink (+2 coins)</button>
            <button id="assassinate">Assassinate: Kill (-3 Coins)</button>
            <button id="exchange">Exchange: Take 2 cards, keep 1</button>
        </div>

        <script>
            // var a = $("div[id='actions'] div button").on("click", function(btn) {
            //     console.log(btn.target.id)
            // })

            var money = 0
            var income = $("#income").on("click", function() {
                changeCoins(1) 
                console.log("income")
            })
            var foreign = $("#foreign").on("click", function() {
                changeCoins(2)
                console.log("foreign")
            })
            var coup = $("#coup").on("click", function() {
                changeCoins(-7)
                console.log("coup")
            })
            var tax = $("#tax").on("click", function() {
                changeCoins(3)
                console.log("tax")
            })
            var steal = $("#steal").on("click", function() {
                changeCoins(2)
                console.log("steal")
            })
            var assassinate = $("#assassinate").on("click", function() {
                console.log("assassinate")

            })
            var exchange = $("#exchange").on("click", function() {
                console.log("exchange")
            })

            //add or remove coins by a certain amount
            changeCoins = function(amount) {
                if (money + amount < 0) {
                    console.log("Not enough coins")
                } else if (money >= 10 && amount > 0) {
                    alert("Can't perform action (Over 10 coins, must Coup)")
                } else {
                    money += amount
                    $("#pCoins").text(money.toString())
                }
            }
        </script>
    </div>


</body>
</html>